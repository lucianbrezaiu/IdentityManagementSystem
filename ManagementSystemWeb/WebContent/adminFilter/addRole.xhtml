<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Admin module - add role</title>
	<link 
		rel="stylesheet" 
		href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" 
		integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" 
		crossorigin="anonymous"
	/>
	<h:outputStylesheet library="css" name="styles.css"/>
	<h:outputStylesheet library="css" name="adminFilter.css"/>
</h:head>
<h:body>

	<b:navBar class="navbar">
		<div class="container-fluid">
		   <ul class="nav float-left">
		     <li class="nav-item"><h:link class="btn btn-outline-light mx-2 border" outcome="#{linksBean.ADMIN_HOME_LINK}" value="Home"/></li>
		     <li class="nav-item"><h:link class="btn btn-outline-light mx-2 border" outcome="#{linksBean.ADMIN_ORGANIZATIONS_LINK}" value="Organizations"/></li>
		     <li class="nav-item"><h:link class="btn btn-outline-light mx-2 border" outcome="#{linksBean.ADMIN_RESOURCES_LINK}" value="Resources"/></li>
		     <li class="nav-item"><h:link class="btn btn-light mx-2 border" outcome="#{linksBean.ADMIN_ROLES_LINK}" value="Roles"/></li>
		      <li class="nav-item"><h:link class="btn btn-outline-light mx-2 border" outcome="#{linksBean.ADMIN_RIGHTS_LINK}" value="Rights"/></li>
		   </ul>
		   
		   <div class="float-right" style="margin-right: 45px;">
		   		<div class="username">
			   		<h:link class="username" outcome="#{linksBean.USER_HOME_LINK}" value="#{userBean.getCurrentFullname()}"/>
			    </div>
			 	<div id="dropDownList" class="btn-group">
			        <a id="dropdown" class="btn dropdown-toggle" data-toggle="dropdown" href="#" style="background-color: white">
			            <span class="glyphicon glyphicon-user"></span>
			        </a>
			        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
				        <h:form>
				        	<h:commandButton class="dropdown-item" value="Logout" action="#{loginBean.logout}"></h:commandButton>
				        </h:form>
			       	</div>
			    </div>
			</div>
		</div>
	</b:navBar>
	
	<br/>
	<div class="container-fluid">
		<div class="row align-items-center">
			<div class="col">
				<h1>Add role:</h1>
			</div>
			<div class="col">
				<h:link class="btn btn-danger btn-lg" value="BACK" outcome="#{linksBean.ADMIN_ROLES_LINK}"/>
			</div>
		</div>
	</div>

	<br/>
	<br/>
	<h:form label="addRoleForm" class="form">
	
		<div class="form-group col-xs-4 col-sm-2">
			<h:outputLabel value="Name:"/>
			<h:inputText class="effect-input" required="true" label="Name"
				placeholder="Name" validatorMessage="Enter role name"
				value="#{rolesBean.roleDTO.name}"></h:inputText>
			<br />
		</div>
		
		<div class="form-group col-xs-4 col-sm-2">
			<h:outputLabel value="Description:"/>
			<h:inputText class="effect-input" required="true" label="Description"
				placeholder="Description" validatorMessage="Enter role description"
				value="#{rolesBean.roleDTO.description}"></h:inputText>
			<br />
		</div>
		
		<div class="form-group col-xs-4 col-sm-2">
			<h:outputLabel value="Rights:"/>
			<h:selectManyCheckbox id="selectManyCheckbox" layout="pageDirection"
				required="true" selectedClass="form-group" unselectedClass="inline-label"
				value="#{rolesBean.selectedRightsIds}">
			 	<f:selectItems  value="#{rolesBean.getAllRights()}" var="right" itemLabel="#{right.name}" itemValue="#{right.id}" />
			</h:selectManyCheckbox>
			<br/>
		</div>
		
		<div class="form-group col-xs-4 col-sm-2">
			<h:commandButton class="btn btn-dark float-right" value="Add" action="#{rolesBean.addRole}"></h:commandButton>
			<br />
		</div>
		
		<!-- h:messages is used to display error messages from the current facesContext  -->
		<h:messages infoStyle="color:darkgreen" errorStyle="color:darkred"></h:messages>
	</h:form>
	
	
	
	
</h:body>
</html>